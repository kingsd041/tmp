name: SYNC-REPO-tmp

on:
  create

jobs:
  repo-sync:
    runs-on: ubuntu-latest
    env:
      BRANCH_NAME: ${GITHUB_REF##*/}
      REPO_NAME: ${GITHUB_REPOSITORY##*/}
    steps:
    - name: repo-sync
      env:
        SOURCE_REPO: "cnrancher/${{ env.REPO_NAME }}"
        SOURCE_BRANCH: "refs/remotes/source/${{ env.BRANCH_NAME }}"
        DESTINATION_REPO: "kingsd041/${{ env.REPO_NAME }}"
        DESTINATION_BRANCH: "refs/heads/${{ env.BRANCH_NAME }}"
        SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}
      run: |
        echo SOURCE_REPO: ${SOURCE_REPO}
        echo SOURCE_BRANCH: ${SOURCE_BRANCH}
        echo DESTINATION_REPO: ${DESTINATION_REPO}
        echo DESTINATION_BRANCH:  ${DESTINATION_BRANCH}